var REACH={};REACH.Accordion=function(t){return{init:function(){t.fn.accordion&&t(".accordion").accordion({heightStyle:"content"})}}}(jQuery),REACH.Barometer=function(s){function d(t){var n=s(window).scrollTop(),e=n+s(window).height(),a=t.offset().top,i=a+t.height();return n<=i&&a<=e&&i<=e&&n<=a}function c(t,n,e,a,i){var o=360/a*e,r=(90-o)*Math.PI/180,s=t+i*Math.cos(r),d=n-i*Math.sin(r);return{path:a==e?[["M",t,n-i],["A",i,i,0,1,1,t-.01,n-i]]:[["M",t,n-i],["A",i,i,0,+(180<o),1,s,d]]}}var t=s(".barometer");return drawBarometer=function(t,n,e,a,i){0<i&&n.path().attr({stroke:t.data("progress-stroke"),"stroke-width":t.data("strokewidth")+1,arc:[e/2,a/2,0,100,e/2-8]}).animate({arc:[e/2,a/2,i,100,e/2-8]},1500,"easeInOut",function(){t.find("span").animate({opacity:1},300,"linear")})},initBarometer=function(t){var n,e=t.data("width"),a=t.data("height"),i=Raphael(t[0],e,a),o=!1,r=100<t.data("progress")?100:t.data("progress");i.customAttributes.arc=c,n=i.path().attr({stroke:t.data("stroke"),"stroke-width":t.data("strokewidth"),arc:[e/2,a/2,0,100,e/2-8]}),t.parent().addClass("barometer-added"),n.animate({arc:[e/2,a/2,100,100,e/2-8]},1e3,function(){0===r&&t.find("span").animate({opacity:1},500,"linear")}),d(t)?(drawBarometer(t,i,e,a,r),o=!0):s(window).scroll(function(){!1===o&&d(t)&&(drawBarometer(t,i,e,a,r),o=!0)})},{init:function(){t.each(function(){initBarometer(s(this))})},getBarometers:function(){return t}}}(jQuery),REACH.Countdown=function(n){return{init:function(){!function(){var t=n(".countdown");t.length&&t.countdown({until:n.countdown.UTCDate(REACH_CROWDFUNDING.timezone_offset,new Date(t.data().enddate)),format:"dHMS",labels:[REACH_CROWDFUNDING.years,REACH_CROWDFUNDING.months,REACH_CROWDFUNDING.weeks,REACH_CROWDFUNDING.days,REACH_CROWDFUNDING.hours,REACH_CROWDFUNDING.minutes,REACH_CROWDFUNDING.seconds],labels1:[REACH_CROWDFUNDING.year,REACH_CROWDFUNDING.month,REACH_CROWDFUNDING.week,REACH_CROWDFUNDING.day,REACH_CROWDFUNDING.hour,REACH_CROWDFUNDING.minute,REACH_CROWDFUNDING.second]})}()}}}(jQuery),REACH.Grid=function(t){function n(t){t.masonry({itemSelector:".campaign",horizontalOrder:!0})}var e=t(".campaign-grid");return{init:function(){400<t(window).width()&&e.each(function(){n(t(this))})},getGrids:function(){return e},resizeGrid:function(){e.each(function(){n(t(this))})}}}(jQuery),REACH.CrossBrowserPlaceholders=function(e){return{init:function(){var t=e(":text,textarea");if(t.length&&!("placeholder"in t.first()[0])){var n=document.activeElement;t.focus(function(){null!=e(this).attr("placeholder")&&(e(this).val(""),e(this).val()!==e(this).attr("placeholder")&&e(this).removeClass("hasPlaceholder"))}).blur(function(){null==e(this).attr("placeholder")||""!==e(this).val()&&e(this).val()!==e(this).attr("placeholder")||e(this).val(e(this).attr("placeholder")).addClass("hasPlaceholder")}),t.blur(),e(n).focus(),e("form").submit(function(){e(this).find(".hasPlaceholder").each(function(){e(this).val("")})})}}}}(jQuery),REACH.DropdownMenus=function(t){return{init:function(){t(".menu li").on("mouseover",function(){t(this).addClass("hovering")}).on("mouseout",function(){t(this).removeClass("hovering")})}}}(jQuery),REACH.FancySelect=function(e){return{init:function(){function t(t){t.parent().css("display",t.css("display"))}var n=e("select");return n.parent().hasClass("select-wrapper")||(n.wrap('<div class="select-wrapper" />').on("change",function(){t(e(this))}),n.each(function(){t(e(this))})),t}}}(jQuery),REACH.Fitvids=function(t){return{init:function(){t(".fit-video, .video-player").fitVids()}}}(jQuery),REACH.HeaderLayout=function(a){return{init:function(){if(!(REACH_VARS.primary_navigation_offset.length||a(window).width()<800)){var t,n=a(".site-branding").outerHeight()-45,e=a(".site-branding").outerWidth()+1;((t=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet).insertRule("@media screen and (min-width: 50em) { .site-navigation { margin-top:"+n+"px; max-width: -webkit-calc(100% - "+e+NaN+e+"px); max-width: calc(100% - "+e+"px);) } }",0),a.ajax({type:"POST",data:{action:"set_primary_navigation_offset",offset_t:n,offset_l:e},dataType:"json",url:REACH_VARS.ajaxurl,xhrFields:{withCredentials:!0},success:function(t){window.console&&window.console.log&&console.log(t)},error:function(t){window.console&&window.console.log&&console.log(t)}}).fail(function(t){window.console&&window.console.log&&console.log(t)})}}}}(jQuery),REACH.ImageHovers=function(e){return{init:function(){e(".on-hover").each(function(){var t=e(this).parent(),n=t.find("img");e(this).css({width:n.width(),left:n.position().left}),t.addClass("hover-parent").on("mouseover",function(){e(this).addClass("hovering")}).on("mouseout",function(){e(this).removeClass("hovering")})})}}}(jQuery),REACH.LeanModal=function(t){return{init:function(){t.fn.leanModal&&t("[data-trigger-modal]").leanModal({closeButton:".close-modal"})}}}(jQuery),REACH.ResponsiveMenu=function(i){return{init:function(){var t,n,e=i(".site-navigation"),a=i(".account-links");e&&(t=e.find(".menu-toggle"))&&(a.length&&e.find(".menu-site").append('<div class="account-links">'+a.html()+"</div>"),(n=e.find("ul"))?(n.attr("aria-expanded","false"),n.hasClass("nav-menu")||n.addClass("nav-menu"),t.on("click",function(){e.hasClass("toggled")?(e.removeClass("toggled"),t.attr("aria-expanded","false"),n.attr("aria-expanded","false")):(e.addClass("toggled"),t.attr("aria-expanded","true"),n.attr("aria-expanded","true"))})):t.hide())}}}(jQuery),REACH.SidebarPositioning=function(a){return{init:function(){var t=a("body").outerWidth(),n=a(".banner"),e=a("#secondary");n.length&&e.length&&(t<785?e[0].style.marginTop="":e.css("marginTop",n.outerHeight()))}}}(jQuery),REACH.SkipLinkFocusFix=function(){var t=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),n=-1<navigator.userAgent.toLowerCase().indexOf("opera"),e=-1<navigator.userAgent.toLowerCase().indexOf("msie");(t||n||e)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t=document.getElementById(location.hash.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1)}();